<template>
    <!-- Validation Message Bar Component -->
    <template if:true={hasMessages}>
        <div class="slds-m-bottom_small">
            <template for:each={messages} for:item="message">
                <div key={message.id} class={messageClass} role="alert">
                    <span class={iconClass}>
                        <lightning-icon
                            icon-name={message.icon}
                            alternative-text={message.type}
                            size="x-small"
                            class="slds-m-right_x-small">
                        </lightning-icon>
                    </span>
                    <div class="slds-notify__content">
                        <h2 class="slds-text-heading_small" if:true={message.heading}>
                            {message.heading}
                        </h2>
                        <p>{message.message}</p>
                    </div>
                    <template if:true={dismissible}>
                        <button
                            class="slds-notify__close slds-button slds-button_icon slds-button_icon-inverse"
                            title="Close"
                            onclick={handleClose}
                            data-id={message.id}>
                            <lightning-icon
                                icon-name="utility:close"
                                alternative-text="Close"
                                size="x-small">
                            </lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                    </template>
                </div>
            </template>
        </div>
    </template>
</template>
